patterns:
  - name: grace_hopper_cpu_to_gpu
    description: CPU writes system flag. GPU relaxed reader checks if invalidation reached its L1.
    multi_writer: false
    
    gpu:
      num_blocks: 8
      threads_per_block: 64
      
      blocks:
        # GPU Reader: Watches system flag from CPU
        block_0:
          thread_0: {role: reader, ordering: relaxed, watch_flag: system}
          threads_1_63: {role: dummy_reader}
        
        blocks_1_7:
          all_threads: {role: dummy_reader}
    
    cpu:
      num_threads: 32
      threads:
        # CPU Writer: Writes to system scope
        thread_0: {role: writer, scope: system, ordering: relaxed}
        threads_1_31: {role: dummy_reader}